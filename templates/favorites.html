<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageAPI - Favorites</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='favorites.css') }}">
</head>
<body>
    <header>
        <nav class="navigation-links">
            <div class="actual-links-top">
                <ul class="logo-and-title">
                    <svg id="page-api-logo" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <!-- same SVG as before -->
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 18l.01 0" /><path d="M9.172 15.172a4 4 0 0 1 5.656 0" /><path d="M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2" /><path d="M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374" />
                        <path d="M3 3l18 18" /></svg>
                    <li id="webapp-title"><a href="{{ url_for('index') }}">PageAPI</a></li>
                </ul>
                <ul class="links-right-side">
                    {% for section_id, link_text, _ in nav_categories %}
                    <li><a href="{{ url_for('index') }}#{{ section_id }}">{{ link_text }}</a></li>
                    {% endfor %}
                    <li><a href="{{ url_for('favorites') }}" style="color: #5595ed; font-weight: bold;">Favorites</a></li>
                    <li><a href="{{ url_for('cart') }}">Cart</a></li>
                    {% if 'user_email' in session %}
                        <li style="color: #5595ed; font-weight: 600;">Përshëndetje, {{ session['user_email'] }}</li>
                        <li><a href="{{ url_for('logout') }}" style="color: #e74c3c;">Dil</a></li>
                    {% else %}
                        <button id="sign-in" onclick="window.location.href='{{ url_for('login') }}'">Sign in</button>
                    {% endif %}
                </ul>
            </div>
        </nav>
    </header>

    <main class="favorites-main">
        <h1>Libri të Preferuar</h1>

        {% if favorites and favorites|length > 0 %}
            <div class="books-grid">
                {% for fav in favorites %}
                <div class="book-card">
                    <img src="{{ url_for('static', filename='images/' + fav.book_img) }}" alt="{{ fav.book_title }}">
                    <div class="book-info">
                        <p class="title">{{ fav.book_title }}</p>
                        <p class="price">{{ fav.book_price }}</p>
                        <button class="remove-btn" data-id="{{ fav.id }}">Hiq nga të preferuarat</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="empty-message">Nuk ke asnjë libër të preferuar ende. <a href="{{ url_for('index') }}">Kthehu në ballinë</a> dhe shtyp zemrën për të shtuar!</p>
        {% endif %}
    </main>
</body>
</html>
